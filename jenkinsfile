pipeline{
    agent any 
    tools{
  maven 'm1'
}
stages{
  stage('clone'){
    steps{
      checkout scmGit(branches: [[name: '*/main']], extensions: [], userRemoteConfigs: [[credentialsId: 'ssh-key-for-git', url: 'https://github.com/vishalkhed2501/b6-java.git']])
    }
  }
stage('build'){
  steps{
    sh 'mvn clean install'
  }
}
stage('test'){
  steps{
    sh 'mvn test'
  }
  post{
  always{
    junit 'target/surefire-reports/*.xml'
  }
}
}
}
}
